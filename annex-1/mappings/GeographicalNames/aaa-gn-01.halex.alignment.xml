<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<alignment xmlns="http://www.esdi-humboldt.eu/hale/alignment">
    <customFunction>
        <cf:custom-property-function xmlns:cf="http://www.esdi-humboldt.eu/hale/custom-function" identifier="adv_sha256_singleID" name="ADV SHA256 INSPIRE-ID for Retype" type="groovy">
            <cf:input eager="false" maxOccurs="1" minOccurs="1" name="id">
                <cf:binding>java.lang.String</cf:binding>
            </cf:input>
            <cf:output eager="false" maxOccurs="1" minOccurs="1">
                <cf:binding>java.lang.String</cf:binding>
            </cf:output>
            <cf:definition>
                <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
import java.security.MessageDigest;&#xD;
&#xD;
MessageDigest md = MessageDigest.getInstance("SHA-256");&#xD;
&#xD;
md.update(id.getBytes("UTF-8"));&#xD;
String result = new String(md.digest(), "UTF-8");&#xD;
&#xD;
return "_" + result;
</core:text>
            </cf:definition>
            <cf:explanation>
                <cf:locale country="" language="" variant="">
                    <cf:template>
                        <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">Die Funktion bildet die localId einer inspireId aus einer Quell-ID wie der AAA-OID unter Verwendung des SHA256-Algorithmus. Die funktion bildet *genau eine* QuellId ab.</core:text>
                    </cf:template>
                </cf:locale>
            </cf:explanation>
        </cf:custom-property-function>
    </customFunction>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C5066930e-afc6-4363-9cbb-71846e46cb5b" priority="normal">
        <source>
            <property>
                <type name="AX_GebaeudeType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="name" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="spelling" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="SpellingOfName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="text" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="C635eb544-fc9a-4bc4-8c15-05b3313c14f4" priority="normal">
        <source name="anchor">
            <property>
                <type name="AX_GebaeudeType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="name" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="localType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="LocalisedCharacterString" ns="http://www.isotc211.org/2005/gmd"/>
            </property>
        </target>
        <parameter value="GebÃ¤ude" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C2c0e73b9-3302-4f83-ba02-0b33f58c13d2" priority="normal">
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <parameter value="https://registry.gdi-de.org/id/de.by/" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign.bound" id="C43dd73e1-8184-4703-9039-9001006ae3b2" priority="normal">
        <source name="anchor">
            <property>
                <type name="AX_GebaeudeType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="name" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="type" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="href" ns="http://www.w3.org/1999/xlink"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/codelist/NamedPlaceTypeValue/building" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.generateuid" id="C498490c2-472a-4d96-aaf1-fdbf2a88941c" priority="normal">
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C3d16c037-d22d-46a6-b068-62925103a866" priority="normal">
        <source>
            <class>
                <type name="AX_GebaeudeType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0">
                    <condition lang="CQL">name is not null and name &lt;&gt; ''</condition>
                </type>
            </class>
        </source>
        <target>
            <class>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </class>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C76799f79-133d-4391-a607-300546bcc056" priority="normal">
        <source>
            <property>
                <type name="AA_ObjektType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="lebenszeitintervall" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="AA_Lebenszeitintervall" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="beginnt" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C264dc096-61b5-4a61-acaa-ebd17310de5a" priority="normal">
        <source>
            <class>
                <type name="AX_BergbaubetriebType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0">
                    <condition lang="CQL">name is not null and name &lt;&gt; ''</condition>
                </type>
            </class>
        </source>
        <target>
            <class>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </class>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Cf7c89b70-ace4-455d-9c27-c93d17df4fc0" priority="normal">
        <source>
            <property>
                <type name="AX_BergbaubetriebType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0">
                    <condition lang="CQL">name is not null and name &lt;&gt; ''</condition>
                </type>
                <child name="name" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="spelling" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="SpellingOfName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="text" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C7bfd886a-0318-46a5-84df-aecb599e9cc4" priority="normal">
        <source>
            <property>
                <type name="AX_GebaeudeType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="position" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="geometry" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="true" name="structuralRename"/>
        <parameter value="false" name="copyGeometries"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="custom:alignment:adv_sha256_singleID" id="Ca91ddad1-8a90-43ff-915f-cd8d06328565" priority="normal">
        <source name="id">
            <property>
                <type name="AA_ObjektType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="Cd79f9d21-40ec-417b-81bb-ef1d52329f78" priority="normal">
        <source>
            <class>
                <type name="AX_FlaecheGemischterNutzungType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0">
                    <condition lang="CQL">name is not null and name &lt;&gt; ''</condition>
                </type>
            </class>
        </source>
        <target>
            <class>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </class>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Ce40c8e83-c7a6-4363-8e36-3582d9715c4d" priority="normal">
        <source>
            <property>
                <type name="AX_FlaecheGemischterNutzungType" ns="http://www.adv-online.de/namespaces/adv/gid/6.0">
                    <condition lang="CQL">name is not null and name &lt;&gt; ''</condition>
                </type>
                <child name="name" ns="http://www.adv-online.de/namespaces/adv/gid/6.0"/>
            </property>
        </source>
        <target>
            <property>
                <type name="NamedPlaceType" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="GeographicalName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="spelling" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="SpellingOfName" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
                <child name="text" ns="http://inspire.ec.europa.eu/schemas/gn/4.0"/>
            </property>
        </target>
        <parameter value="false" name="structuralRename"/>
        <parameter value="false" name="ignoreNamespaces"/>
    </cell>
</alignment>
