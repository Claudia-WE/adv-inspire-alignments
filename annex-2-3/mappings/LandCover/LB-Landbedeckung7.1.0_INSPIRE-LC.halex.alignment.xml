<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<alignment xmlns="http://www.esdi-humboldt.eu/hale/alignment">
    <base prefix="ba1" location="file:/C:/Users/Johanna/git/adv-inspire-alignments/annex-1/mappings/base-functions.halex.alignment.xml"/>
    <cell relation="eu.esdihumboldt.hale.align.create" id="Cb008c5ac-e877-45a3-92dc-fe8296da779e" priority="lowest">
        <target>
            <class>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="1" name="number"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C9d2e4658-e17d-4694-800c-47f798749c3c" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="other:unpopulated" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="C35fa4223-dd8f-4a95-92b5-7a5414d0abf3" priority="normal">
        <target name="result">
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="extent" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def c = _.context.collector()&#xD;
&#xD;
return c.extent.value()
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cff9947b4-d24e-4ae4-946a-8702e65e55db" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="{{project:LANDCOVER_DATASET}}" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C0a581376-bec7-43ee-9f9f-21164e23a31d" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
        <parameter value="{{project:INSPIRE_NAMESPACE}}/{{project:LANDCOVER_DATASET}}" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cbaed14e2-583a-44ef-87ce-00958061ed30" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
                <child name="codeSpace"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/ids" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cc8c89aa4-fba9-4b9a-baef-68a4fafa35c0" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <parameter value="{{project:LANDCOVER_DATASET}}" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C1599b193-ea8c-43a6-9da3-94a2398a46e6" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <parameter value="{{project:INSPIRE_NAMESPACE}}" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.collector.assign" id="Cd9fa0141-939a-426d-9d35-edfe00f55136" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="member" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </property>
        </target>
        <parameter value="dataset" name="collector"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C5becb69e-9224-40fd-9bb4-b301d58b584a" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="name" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </property>
        </target>
        <parameter value="{{project:LANDCOVER_DATASET}}" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="C6ecc20c1-5d96-4d77-bc0a-92a588cbde8d" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="nomenclatureDocumentation" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="LandCoverNomenclature" ns="http://inspire.ec.europa.eu/schemas/lcn/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/lcn/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <parameter value="LandCoverNomenclature_1" name="value"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.namespace" id="Cb1390159-b1ae-4484-9c9c-0b9a447d0451" priority="normal">
        <target>
            <property>
                <type name="LandCoverDatasetType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="nomenclatureDocumentation" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="LandCoverNomenclature" ns="http://inspire.ec.europa.eu/schemas/lcn/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/lcn/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C6017aba7-914c-4503-9402-53954be932ea" priority="normal">
        <source>
            <class>
                <type name="LB_BinnengewaesserType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C6c2dd9f7-6d3b-4185-8b24-53f9e8cd9fa6" priority="normal">
        <source>
            <class>
                <type name="LB_EisType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C90fe3287-1e49-443e-aea7-c352122ffb81" priority="normal">
        <source>
            <class>
                <type name="LB_FestgesteinType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C97fb8acc-9d8f-43b5-a4e9-dc8711d1f4a8" priority="normal">
        <source>
            <class>
                <type name="LB_HochbauUndBaulicheNebenflaecheType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C618bb944-fba1-4baa-8180-3bafa48acf01" priority="normal">
        <source>
            <class>
                <type name="LB_HolzigeVegetationType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C42afe29c-6d3f-4c8b-88be-298eb0de5beb" priority="normal">
        <source>
            <class>
                <type name="LB_KrautigeVegetationType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="Cc81bb131-74aa-43a3-b270-1dfe00016eb0" priority="normal">
        <source>
            <class>
                <type name="LB_LockermaterialType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C8dba689c-d411-48db-a3c3-b0458d483bba" priority="normal">
        <source>
            <class>
                <type name="LB_MeerType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.retype" id="C3cfe5435-8820-4126-b847-d4b8816328ae" priority="normal">
        <source>
            <class>
                <type name="LB_TiefbauType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
            </class>
        </source>
        <target>
            <class>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </class>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="C0d528860-9f8b-4876-9cab-099f871246e8" priority="normal">
        <source>
            <property>
                <type name="LB_LandbedeckungType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
                <child name="lebenszeitintervall" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
                <child name="AA_Lebenszeitintervall" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
                <child name="beginnt" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
            </property>
        </source>
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="beginLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.rename" id="Ccaf32896-09d1-4945-8b8b-249a78e40042" priority="normal">
        <source>
            <property>
                <type name="LB_LandbedeckungType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
                <child name="lebenszeitintervall" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
                <child name="AA_Lebenszeitintervall" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
                <child name="endet" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
            </property>
        </source>
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="endLifespanVersion" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </property>
        </target>
        <parameter value="false" name="ignoreNamespaces"/>
        <parameter value="false" name="structuralRename"/>
    </cell>
    <cell relation="eu.esdihumboldt.cst.functions.groovy" id="C65465f24-c8b5-46db-be45-887e64d2f3bf" priority="normal">
        <source name="var">
            <property>
                <type name="LB_LandbedeckungType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
                <child name="position" ns="http://www.adv-online.de/namespaces/adv/gid/7.1"/>
            </property>
        </source>
        <target name="result">
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="geometry" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
            </property>
        </target>
        <complexParameter name="script">
            <core:text xmlns:core="http://www.esdi-humboldt.eu/hale/core" xml:space="preserve">
def c = _.context.collector()&#xD;
&#xD;
def geom = _.geom.find(position.p.first())&#xD;
if (!geom) {&#xD;
  _log.error('No geometry found')&#xD;
  return&#xD;
}&#xD;
&#xD;
withTransformationContext {&#xD;
	if(c.extent.value()){&#xD;
		def ext= _.geom.bbox([c.extent.value(), geom])&#xD;
		c.extent = ext&#xD;
	}&#xD;
	else {&#xD;
		c.extent = geom&#xD;
	}&#xD;
}&#xD;
targeom = _.geom.toSimpleGeometries(geometries:geom, collections:true)&#xD;
return targeom
</core:text>
        </complexParameter>
        <parameter value="false" name="variablesAsInstances"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="Ccdda4b4a-6ff2-4cf2-a21c-58172d91513a" priority="normal">
        <source name="id">
            <property>
                <type name="LB_LandbedeckungType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </source>
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="custom:alignment:adv.inspire.identifier" id="Cdad6831d-c11d-40ff-aa98-72c9078fa762" priority="normal">
        <source name="id">
            <property>
                <type name="LB_LandbedeckungType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </source>
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </target>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cfcc72eb3-3fcf-4df1-9800-d2f31d6ee3e5" priority="normal">
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="identifier" ns="http://www.opengis.net/gml/3.2"/>
                <child name="codeSpace"/>
            </property>
        </target>
        <parameter value="http://inspire.ec.europa.eu/ids" name="value"/>
    </cell>
    <cell relation="custom:alignment:adv.inspire.id.default" id="C477879bb-1a60-42c7-859f-2a1e69159b29" priority="normal">
        <source name="id">
            <property>
                <type name="LB_LandbedeckungType" ns="http://www.adv-online.de/namespaces/adv/lb/1.0"/>
                <child name="id" ns="http://www.opengis.net/gml/3.2"/>
            </property>
        </source>
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="localId" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <parameter value="dataset" name="collectorName"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cadc476f1-7750-4370-975e-fda9a22cba1e" priority="normal">
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="inspireId" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="Identifier" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
                <child name="namespace" ns="http://inspire.ec.europa.eu/schemas/base/3.3"/>
            </property>
        </target>
        <parameter value="{{project:INSPIRE_NAMESPACE}}" name="value"/>
    </cell>
    <cell relation="eu.esdihumboldt.hale.align.assign" id="Cb3e1d591-6efa-4bca-bdda-7265bf03e9e5" priority="normal">
        <target>
            <property>
                <type name="LandCoverUnitType" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="landCoverObservation" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="LandCoverObservation" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="observationDate" ns="http://inspire.ec.europa.eu/schemas/lcv/4.0"/>
                <child name="nilReason"/>
            </property>
        </target>
        <parameter value="other:unpopulated" name="value"/>
    </cell>
</alignment>
